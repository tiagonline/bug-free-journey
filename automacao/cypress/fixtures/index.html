<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Desafio QA Lead - Upload</title>
</head>
<body>
    <h1>Desafio "Documentos Digitais"</h1>
    
    <form id="uploadForm">
        <label for="file-upload-input">Selecionar Arquivo:</label>
        <input type="file" id="file-upload-input">
        <button type="submit" id="file-upload-submit">Enviar</button>
    </form>

    <div class="messages">
        <div class="success-message" style="display:none;">Upload concluído com sucesso</div>
        <div class="error-message-validation" style="display:none;">Arquivo excede 10MB</div>
        <div class="error-message-fallback" style="display:none;">Erro ao processar documento. Tente novamente.</div>
    </div>
    
    <div id="pdf-viewer-inline" style="display:none; border:1px solid black; height: 300px; width: 300px;">
        (Visualizador Inline Mockado)
    </div>

    <script>
        document.getElementById('uploadForm').addEventListener('submit', function(event) {
            // Previne o refresh da página (que o Cypress não gosta)
            event.preventDefault(); 
            
            console.log('Form submitted. Faking API calls...');

            // Simula a chamada para /api/upload-document
            // O cy.intercept() vai pegar isso.
            fetch('/api/upload-document', { 
                method: 'POST', 
                body: new FormData(this) 
            });

            // Simula a chamada para /api/ocr-service
            // O cy.intercept() vai pegar isso.
            fetch('/api/ocr-service', { 
                method: 'POST' 
            });
        });
    </script>
</body>
</html>